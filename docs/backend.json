{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a base user who can be a Rider or a Partner.",
      "properties": {
        "name": { "type": "string" },
        "phone": { "type": "string", "description": "10-digit mobile number, unique identifier." },
        "email": { "type": "string", "format": "email" },
        "photoURL": { "type": "string", "format": "uri" },
        "role": { "type": "string", "enum": ["user", "driver", "mechanic", "cure", "doctor", "ambulance_driver", "admin"] },
        "gender": { "type": "string", "enum": ["male", "female", "other"] },
        "isOnline": { "type": "boolean", "default": false },
        "currentLocation": { "$ref": "#/entities/GeoPoint" },
        "lastSeen": { "type": "string", "format": "date-time" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["name", "phone", "role", "createdAt"]
    },
    "Partner": {
      "title": "Partner",
      "type": "object",
      "description": "Represents a Path (Driver) Partner.",
      "properties": {
        "partnerId": { "type": "string", "description": "Unique human-readable ID, e.g., CZP-1234." },
        "name": { "type": "string" },
        "phone": { "type": "string" },
        "gender": { "type": "string" },
        "dob": { "type": "string", "format": "date" },
        "panCard": { "type": "string" },
        "aadhaarNumber": { "type": "string" },
        "drivingLicence": { "type": "string" },
        "vehicleType": { "type": "string" },
        "vehicleBrand": { "type": "string" },
        "vehicleName": { "type": "string" },
        "vehicleNumber": { "type": "string" },
        "isCurocityPink": { "type": "boolean", "default": false },
        "status": { "type": "string", "enum": ["pending_verification", "verified", "rejected", "suspended"] },
        "isOnline": { "type": "boolean", "default": false },
        "walletBalance": { "type": "number", "default": 0 },
        "currentLocation": { "$ref": "#/entities/GeoPoint" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["partnerId", "name", "phone", "status", "createdAt"]
    },
    "Mechanic": {
      "title": "Mechanic",
      "type": "object",
      "description": "Represents a ResQ (Mechanic/Garage) Partner.",
      "properties": {
        "partnerId": { "type": "string" },
        "name": { "type": "string", "description": "Owner's Name" },
        "firmName": { "type": "string", "description": "Garage/Firm Name" },
        "phone": { "type": "string" },
        "businessType": { "type": "string", "enum": ["Individual", "Garage"] },
        "panCard": { "type": "string" },
        "gstNumber": { "type": "string" },
        "services": { "type": "array", "items": { "type": "string" } },
        "location": { "$ref": "#/entities/GeoPoint", "description": "Fixed location for Garages" },
        "address": { "type": "string" },
        "status": { "type": "string", "enum": ["pending_verification", "verified", "rejected"] },
        "isAvailable": { "type": "boolean", "default": false },
        "currentLocation": { "$ref": "#/entities/GeoPoint", "description": "Live location for individuals" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["partnerId", "name", "phone", "status", "createdAt"]
    },
    "CurePartner": {
      "title": "CurePartner",
      "type": "object",
      "description": "Represents a Cure (Hospital/Clinic) Partner.",
      "properties": {
        "partnerId": { "type": "string" },
        "name": { "type": "string", "description": "Facility Name (Hospital/Clinic)" },
        "phone": { "type": "string", "description": "Official contact number" },
        "businessType": { "type": "string", "enum": ["Hospital", "Clinic"] },
        "registrationNumber": { "type": "string" },
        "totalBeds": { "type": "number" },
        "bedsOccupied": { "type": "number" },
        "departments": { "type": "array", "items": { "type": "string" } },
        "services": { "type": "array", "items": { "type": "string" } },
        "location": { "$ref": "#/entities/GeoPoint" },
        "address": { "type": "string" },
        "status": { "type": "string", "enum": ["pending_verification", "verified", "rejected"] },
        "isOnline": { "type": "boolean", "default": false },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["partnerId", "name", "phone", "businessType", "status", "createdAt"]
    },
    "Doctor": {
      "title": "Doctor",
      "type": "object",
      "description": "Represents a doctor associated with a Cure partner.",
      "properties": {
        "partnerId": { "type": "string" },
        "name": { "type": "string" },
        "phone": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "specialization": { "type": "string" },
        "qualifications": { "type": "string" },
        "experience": { "type": "string" },
        "consultationFee": { "type": "number" },
        "medicalRegNo": { "type": "string" },
        "docStatus": { "type": "string", "enum": ["Awaiting Final Approval", "Verified", "Rejected"] },
        "isAvailable": { "type": "boolean", "default": false }
      },
      "required": ["partnerId", "name", "phone", "specialization", "docStatus"]
    },
    "AmbulanceDriver": {
      "title": "AmbulanceDriver",
      "type": "object",
      "description": "Represents an ambulance driver for a hospital.",
      "properties": {
        "partnerId": { "type": "string" },
        "name": { "type": "string" },
        "phone": { "type": "string" },
        "drivingLicence": { "type": "string" },
        "age": { "type": "number" },
        "gender": { "type": "string" }
      },
      "required": ["partnerId", "name", "phone"]
    },
    "Ride": {
      "title": "Ride",
      "type": "object",
      "description": "Represents a single ride request.",
      "properties": {
        "riderId": { "type": "string" },
        "driverId": { "type": "string" },
        "pickup": { "$ref": "#/entities/Location" },
        "destination": { "$ref": "#/entities/Location" },
        "status": { "type": "string", "enum": ["searching", "accepted", "arrived", "in-progress", "payment_pending", "completed", "cancelled_by_rider", "cancelled_by_driver", "no_drivers_available"] },
        "fare": { "type": "number" },
        "otp": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["riderId", "pickup", "destination", "status", "fare", "otp", "createdAt"]
    },
    "GarageRequest": {
        "title": "GarageRequest",
        "type": "object",
        "description": "Represents a request for roadside assistance.",
        "properties": {
            "userId": { "type": "string" },
            "mechanicId": { "type": "string" },
            "issue": { "type": "string" },
            "location": { "$ref": "#/entities/GeoPoint" },
            "status": { "type": "string", "enum": ["pending", "accepted", "in_progress", "bill_sent", "completed", "cancelled"] },
            "otp": { "type": "string" },
            "totalAmount": { "type": "number" },
            "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["userId", "issue", "location", "status", "otp", "createdAt"]
    },
    "EmergencyCase": {
      "title": "EmergencyCase",
      "type": "object",
      "description": "Represents an emergency SOS request.",
      "properties": {
        "caseId": { "type": "string" },
        "riderId": { "type": "string" },
        "location": { "$ref": "#/entities/GeoPoint" },
        "severity": { "type": "string", "enum": ["Critical", "Serious", "Non-Critical"] },
        "assignedPartner": { "type": "object", "properties": { "id": { "type": "string" }, "name": { "type": "string" } } },
        "assignedAmbulanceId": { "type": "string" },
        "status": { "type": "string", "enum": ["pending", "accepted", "onTheWay", "inTransit", "completed", "cancelled"] },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["caseId", "riderId", "location", "severity", "status", "createdAt"]
    },
    "Appointment": {
      "title": "Appointment",
      "type": "object",
      "description": "Represents a doctor's appointment booking.",
      "properties": {
        "patientId": { "type": "string" },
        "doctorId": { "type": "string" },
        "hospitalId": { "type": "string" },
        "appointmentDate": { "type": "string", "format": "date-time" },
        "appointmentTime": { "type": "string" },
        "consultationType": { "type": "string", "enum": ["in-clinic", "video"] },
        "status": { "type": "string", "enum": ["Pending", "Confirmed", "Completed", "Cancelled"] },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["patientId", "doctorId", "hospitalId", "appointmentDate", "status", "createdAt"]
    },
    "GeoPoint": {
      "title": "GeoPoint",
      "type": "object",
      "description": "Represents a geographical point with latitude and longitude.",
      "properties": {
        "latitude": { "type": "number" },
        "longitude": { "type": "number" }
      },
      "required": ["latitude", "longitude"]
    },
    "Location": {
      "title": "Location",
      "type": "object",
      "description": "Represents a location with an address and GeoPoint.",
      "properties": {
        "address": { "type": "string" },
        "location": { "$ref": "#/entities/GeoPoint" }
      },
      "required": ["address", "location"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous", "phone"]
  },
  "firestore": {
    "collections": {
      "/users/{userId}": {
        "schema": { "$ref": "#/entities/User" },
        "description": "Stores individual user accounts."
      },
      "/partners/{partnerId}": {
        "schema": { "$ref": "#/entities/Partner" },
        "description": "Stores profiles for Path (Driver) partners."
      },
      "/mechanics/{mechanicId}": {
        "schema": { "$ref": "#/entities/Mechanic" },
        "description": "Stores profiles for ResQ (Mechanic/Garage) partners."
      },
      "/ambulances/{hospitalId}": {
        "schema": { "$ref": "#/entities/CurePartner" },
        "description": "Stores profiles for Cure (Hospital/Clinic) partners.",
        "collections": {
          "/drivers/{driverId}": {
            "schema": { "$ref": "#/entities/AmbulanceDriver" },
            "description": "Subcollection for ambulance drivers of a specific hospital."
          },
          "/doctors/{doctorId}": {
            "schema": { "$ref": "#/entities/Doctor" },
            "description": "Subcollection for doctors of a specific hospital/clinic."
          }
        }
      },
      "/doctors": {
        "schema": { "$ref": "#/entities/Doctor" },
        "description": "Global collection for all doctors for easier querying and verification. Data is duplicated from the subcollection."
      },
      "/rides/{rideId}": {
        "schema": { "$ref": "#/entities/Ride" },
        "description": "Stores all ride requests and their statuses."
      },
      "/garageRequests/{requestId}": {
        "schema": { "$ref": "#/entities/GarageRequest" },
        "description": "Stores all roadside assistance requests."
      },
      "/emergencyCases/{caseId}": {
        "schema": { "$ref": "#/entities/EmergencyCase" },
        "description": "Stores all emergency SOS requests."
      },
      "/appointments/{appointmentId}": {
        "schema": { "$ref": "#/entities/Appointment" },
        "description": "Stores all doctor appointment bookings."
      }
    }
  }
}
